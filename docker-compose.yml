services:
  lobby:
    build: ./lobby
    container_name: lobby
    image: lobby
    ports:
      - "${LOBBY_PORT:-8080}:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE:-dev}

  game:
    build: ./game
    container_name: game
    image: game
    ports:
      - "${GAME_PORT:-8081}:8081"
    environment:
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE:-dev}

  frontend:
    build: ./frontend
    container_name: frontend
    image: frontend
    ports:
      - "${FRONTEND_PORT:-5173}:80"
    environment:
      - NODE_ENV=production
    depends_on:
      - lobby
